<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <title>weather API</title>
</head>
<style>
    button {
        display: block;
        margin: 0 auto;
        color: white;
        background: ;
    }
</style>

<h1> Geolocation API</h1>

<button>Current Location</button>
<script>

  
    function showPosition(position) {
     let h1 = document.querySelector("h1");
    h1.innerHTML = ` Your Latitude is
     ${position.coords.latitude} and your Longitude
      is ${position.coords.longitude}`;
}
    function getCurrentPosition() { 
    navigator.geolocation.getCurrentPosition(showPosition);
    }

    let button = document.querySelector("button");
    button.addEventListener("click", getCurrentPosition);



    function showWeather(response) {
  let h1 = document.querySelector("h1");
  let temperature = Math.round(response.data.main.temp);
  h1.innerHTML = `It is currently ${temperature}Â° in ${response.data.name}`;
}

function retrievePosition(position) {
  let apiKey = "5f472b7acba333cd8a035ea85a0d4d4c";
  let lat = position.coords.latitude;
  let lon = position.coords.longitude;
  let url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`;
  axios.get(url).then(showWeather);
}

navigator.geolocation.getCurrentPosition(retrievePosition);
</script>
</body>
</html>